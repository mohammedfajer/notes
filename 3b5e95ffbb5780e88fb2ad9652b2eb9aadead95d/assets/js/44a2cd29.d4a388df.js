"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[4308],{9207:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var s=t(4848),r=t(8453);const o={},i="Task Sheet 9 - Accelerometer, Gyroscope, Touch Input",c={id:"GAP5005 Games Hardware Development/tutorial-unity/week9/wk9",title:"Task Sheet 9 - Accelerometer, Gyroscope, Touch Input",description:"Learn to use accelerometers, gyroscopes, and touch input in Unity",source:"@site/docs/GAP5005 Games Hardware Development/tutorial-unity/week9/wk9.md",sourceDirName:"GAP5005 Games Hardware Development/tutorial-unity/week9",slug:"/GAP5005 Games Hardware Development/tutorial-unity/week9/wk9",permalink:"/notes/3b5e95ffbb5780e88fb2ad9652b2eb9aadead95d/docs/GAP5005 Games Hardware Development/tutorial-unity/week9/wk9",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Week 9 - Developing for Mobile Hardware",permalink:"/notes/3b5e95ffbb5780e88fb2ad9652b2eb9aadead95d/docs/category/week-9---developing-for-mobile-hardware"}},a={},l=[{value:"Step 1 Accelerometers",id:"step-1-accelerometers",level:2},{value:"Step 2 Gyroscopes",id:"step-2-gyroscopes",level:2},{value:"Step 3 Touch Input",id:"step-3-touch-input",level:2}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"task-sheet-9---accelerometer-gyroscope-touch-input",children:"Task Sheet 9 - Accelerometer, Gyroscope, Touch Input"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"Learn to use accelerometers, gyroscopes, and touch input in Unity"})}),"\n",(0,s.jsx)(n.h2,{id:"step-1-accelerometers",children:"Step 1 Accelerometers"}),"\n",(0,s.jsxs)(n.p,{children:["Download and open the ",(0,s.jsx)(n.strong,{children:"\u2018Week 09 Project\u2019"})," file from Week 09 on Moodle. Open it up. You will notice that there are three scenes, one for accelerometers, one for gyroscope, and one for touch input; I have built these scenes for us and hooked up any relevant objects as to not steal too much time from you.\nFeel free to have a look around to see how things are set up, but there\u2019s nothing outside of placement/adding components to objects. Nothing I have done has any bearing on what we\u2019re about to do, outside of adding a rigidbody to the sphere in the Accelerometer scene."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Make sure the ",(0,s.jsx)(n.code,{children:"Accelerometer"})," scene is open. Once it is open, open the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"\u2018Accel\u2019"})})," script. This script is attached to the sphere which will be reacting to the accelerometer\u2019s output."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Declare a new ",(0,s.jsx)(n.strong,{children:"Rigidbody"})," variable called ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"\u2018_rb\u2019"})}),". Assign it via the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Start()"})})," method, or via the Inspector Panel."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Declare a new float variable called ",(0,s.jsx)(n.code,{children:"speed"})," and set it to equal 5."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Update()"})})," function, declare a new ",(0,s.jsx)(n.strong,{children:"Vector3"})," with the name ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"\u2018tilt\u2019"})}),". Set it to equal ",(0,s.jsx)(n.code,{children:"Input.acceleration"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Underneath that declaration, set:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"tilt = Quaternion.Euler(90,0,0) * tilt;\n"})}),"\n",(0,s.jsx)(n.p,{children:"Quaternions are used to represent rotation, which is useful for accelerometers, as they return the orientation of the device. We store the device orientation in the tilt variable.\n6. Underneath this line, add:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"  _rb.AddForce(tilt * speed);\n"})}),"\n",(0,s.jsx)(n.p,{children:"This adds force to the Rigidbody, relative to which way the device is facing."}),"\n",(0,s.jsx)(n.h2,{id:"step-2-gyroscopes",children:"Step 2 Gyroscopes"}),"\n",(0,s.jsxs)(n.p,{children:["Load up the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"\u2018Gyro\u2019"})})," scene and open the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"\u2018Gyro\u2019"})})," class. This class is added to the main camera, and it will implement the logic required to look around the scene using the gyroscope."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Declare a new variable at the top of your script of type Gyroscope and name it ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"\u2018gyro\u2019"})}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Declare a new variable at the top of your script of type Quaternion and name it ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"\u2018rot\u2019"})}),". This will be used to help set the initial orientation of the device to make sure things are ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"level"})}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Start()"})})," method, add the following:"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"  private void Start()\n  {\n      if(SystemInfo.supportsGyroscope)\n      {\n        gyro = Input.gyro;\n        gyro.enabled = true;\n        \n        transform.parent.transform.rotation = Quaternion.Euler(90,90,0);\n        rot = new Quaternion(0,0,1,0);\n      }\n  }\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What this is doing"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Checking if our device has a gyroscope."}),"\n",(0,s.jsxs)(n.li,{children:["Set our gyro variable to equal the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Input.gyro"})})," (returns the values the gyroscope returns)."]}),"\n",(0,s.jsx)(n.li,{children:"We then enable the gyroscope."}),"\n",(0,s.jsxs)(n.li,{children:["We then set the default orientation of the camera to make sure we are facing the right way when we start the game. The camera is a child of an empty ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"GameObject"})})," which is why we use transform.parent."]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Inside the ",(0,s.jsx)(n.strong,{children:"Update()"})," method, create another if statement which checks to see if the system has a gyroscope (just like you did in the Start method)."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Inside that if statement, check if gyro is not equal to null."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If it\u2019s not, set the following:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"  transform.localRotation = gyro.attitude * rot;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Here we are setting the rotation of the camera to equal the gyroscopes return values. We use ",(0,s.jsx)(n.code,{children:".attitude"})," to achieve this."]}),"\n",(0,s.jsx)(n.h2,{id:"step-3-touch-input",children:"Step 3 Touch Input"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["This last step will show you how we can detect if multiple fingers are on the screen, if the user is quickly tapping the screen with a specific finger, or if the finger is moving. Open up the ",(0,s.jsx)(n.strong,{children:"Touch Input"})," scene and open up the ",(0,s.jsx)(n.strong,{children:"TouchTracker"})," class. You will notice I have already declared some variables \u2013 these are simply for visual purposes so we can see what\u2019s going on (mainly text output to the screen)."]})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Update()"})})," method, add the following:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"  Touch[] myTouches = Input.touches;\n"})}),"\n",(0,s.jsx)(n.p,{children:"This stores an array of every single finger touch that is on the screen. If 4 fingers are on the screen, the array\u2019s length will be 4."}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Underneath that declaration, check if ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"myTouches.Length"})})," is more than 0. We do this to make sure there is actually a finger on the screen before we go any further."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Inside that if statement, set ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"noOfQuickTaps"})})," (an integer) to equal ",(0,s.jsx)(n.code,{children:"myTouches[0].tapCount"}),". This checks to see how many times the first finger on the screen taps in quick succession, and stores it in an integer variable."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Underneath this, set the ",(0,s.jsx)(n.strong,{children:"\u2018tapCounter\u2019"})," text to equal ",(0,s.jsx)(n.code,{children:"noOfQuickTaps"}),". Use ",(0,s.jsx)(n.strong,{children:"ToString(\u201cF0\u201d)"})," to achieve this."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Next, set the ",(0,s.jsx)(n.code,{children:"noOfTouches"})," text to equal the length of your ",(0,s.jsx)(n.strong,{children:"\u2018myTouches\u2019"})," array."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create another if statement like so:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:'  if(myTouches[0].deltaPosition.magnitude > 1.5f)\n  {\n    statusOfLatestTouch.text = "Finger is moving across the screen";\n  }\n  else\n  {\n    statusOfLatestTouch.text = "Finger is static";\n  }\n'})}),"\n",(0,s.jsx)(n.p,{children:"What this is doing is checking to see if the first finger that was placed on the screen is moving or not, and it\u2019s respectively setting the text to something which we can understand."}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsxs)(n.li,{children:["Finally, create an ",(0,s.jsx)(n.code,{children:"else"})," statement which comes after your ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"myTouches.Length > 0"})})," check, which sets:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"noOfTouches.text = \u201c0\u201d;\nstatusOfLatestTouch.text = \u201cNo finger detected\u201d.\n"})}),"\n",(0,s.jsx)(n.p,{children:"Finally, build your project to your device and test your code. If you have any issues, let me know."})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var s=t(6540);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);